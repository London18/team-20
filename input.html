<!DOCTYPE html>
<html>
      <title>The Mix & Match Demo</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Website ui-->
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>   
    
<body>
    <div class="card bg-info border">
    <div class = "card-body">
<h3 class="card-title font-weight-light">Creating a new account</h3>
          <form>
      <div class="form-group col-md-6">
        <label for="myname">Name</label>
        <input type="name" class="form-control" id="myname">
      </div>
                  <div class="form-group col-md-6">
        <label for="myage">Age</label>
        <input type="number" class="form-control" id="myage">
      </div>
                  <div class="form-group col-md-6">
        <label for="myenth">Ethnicity</label>
        <input type="text" class="form-control" id="myenth">
      </div>
                  <div class="form-group col-md-6">
        <label for="mygen">Gender (Female or Male)</label>
        <input type="text" class="form-control" id="mygen">
      </div>
                  <div class="form-group col-md-6">
        <label for="mykey1">One reason you are unhappy:</label>
        <input type="text" class="form-control" id="mykey1">
      </div>
                  <div class="form-group col-md-6">
        <label for="mykey2">One reason you are unhappy:</label>
        <input type="text" class="form-control" id="mykey2">
      </div>
                  <div class="form-group col-md-6">
        <label for="mylat">Latitude</label>
        <input type="number" class="form-control" id="mylat">
      </div>
                  <div class="form-group col-md-6">
        <label for="mylon">Longitude</label>
        <input type="number" class="form-control" id="mylon">
      </div>

    </form>



<button type ="button" class="btn btn-primary create-button" onclick="myFunction()">Submit</button>
  <div id = "feedback"></div>
      <div id = "success"></div>
<button type ="button" class="btn btn-primary create-button" onclick="location.href = 'index.html'">Return</button>

<script>
function myFunction() {
    var name = document.getElementById("myname").value;
    var age = document.getElementById("myage").value;
    var enth = document.getElementById("myenth").value;
    var gen = document.getElementById("mygen").value;
    var key1 = document.getElementById("mykey1").value;
    var key2 = document.getElementById("mykey2").value;
    var lat = document.getElementById("mylat").value;
    var lon = document.getElementById("mylon").value;
    var timestamp = new Date().getUTCMilliseconds();
    var person = { 
          "ID":timestamp,
          "Name":name,
          "Gender": gen,
          "Age":age,
          "Ethnicity":enth,
          "Keywords":[key1, key2],
          "Location": { "Lat":lat, "Lon":-lon},
         };
  var objectOutput = window.localStorage.getItem("data");
  var arr = JSON.parse(objectOutput)
  arr.push(person)
  window.localStorage.clear();
  window.localStorage.setItem("data", JSON.stringify(arr));
  document.getElementById("feedback").innerHTML = "successfully created user";
}
</script>

</body>
</html>
