if (self.CavalryLogger) { CavalryLogger.start_js(["45jkC"]); }

__d("MessengerDiscoveryPluginTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("plugin_logger_route:MessengerDiscoveryPluginLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("plugin_logger_route:MessengerDiscoveryPluginLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("plugin_logger_route:MessengerDiscoveryPluginLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setUserFbid=function(a){this.$1.user_fbid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={app_id:!0,event:!0,name:!0,page_id:!0,user_fbid:!0,vc:!0};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/2v2plzJQoTQ/
 */
__d("IntersectionObserverFallback",["FBLogger","TimeSlice","containsNode","getElementRect","performanceNow","setInterval","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=document.documentElement,h=[];function i(a,b){var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left);a=Math.min(a.right,b.right);b=a-e;var f=d-c;return b>=0&&f>=0?{top:c,bottom:d,left:e,right:a,width:b,height:f}:undefined}function j(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function k(a){__p&&__p();this.time=a.time;this.target=a.target;this.rootBounds=a.rootBounds;this.boundingClientRect=a.boundingClientRect;this.intersectionRect=a.intersectionRect||j();this.isIntersecting=!!a.intersectionRect;a=this.boundingClientRect;a=a.width*a.height;var b=this.intersectionRect.width*this.intersectionRect.height;a?this.intersectionRatio=b/a:this.intersectionRatio=this.isIntersecting?1:0}function a(a,c){__p&&__p();this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$12=b("TimeSlice").guard(b("throttle")(function(){var a=this.$14(),c=a?this.$15():j();this.$6.forEach(function(d){var e=d.element,f=b("getElementRect")(e),g=this.$16(e),h=d.entry,i=a&&g&&!this.$2&&this.$17(e,c);d=d.entry=new k({time:b("performanceNow")(),target:e,boundingClientRect:f,rootBounds:c,intersectionRect:i});!h?this.$7.push(d):a&&g?this.$18(h,d)&&this.$7.push(d):h&&h.isIntersecting&&this.$7.push(d)}.bind(this));this.$7.length&&this.$1(this.takeRecords(),this)}.bind(this),this.THROTTLE_TIMEOUT),"IntersectionObserverFallback: checkForIntersections");this.$2=!1;try{window.top.document}catch(a){this.$2=!0}c=c||{};this.$1=a;this.$4=!1;this.$6=[];this.$7=[];this.$8=this.$9(c.rootMargin);this.thresholds=this.$10(c.threshold);this.root=c.root||null;this.rootMargin=this.$8.map(function(a){return a.value+a.unit}).join(" ")}a.prototype.$10=function(a){a=a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(a,b,c){return a!==c[b-1]})};a.prototype.$9=function(a){a=a||"0px";a=a.split(/\s+/).map(function(a){a=/^(-?\d*\.?\d+)(px|%)$/.exec(a);return{value:parseFloat(a[1]),unit:a[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};a.prototype.$11=function(){this.$4||(this.$4=!0,this.$12(),this.POLL_INTERVAL?this.$5=b("setInterval")(this.$12,this.POLL_INTERVAL):(window.addEventListener("resize",this.$12),document.addEventListener("scroll",this.$12),"MutationObserver"in window&&(this.$3=new MutationObserver(this.$12),this.$3.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};a.prototype.$13=function(){this.$4&&(this.$4=!1,this.$5&&(clearInterval(this.$5),this.$5=undefined),window.removeEventListener("resize",this.$12),document.removeEventListener("scroll",this.$12),this.$3&&(this.$3.disconnect(),this.$3=undefined))};a.prototype.$17=function(a,c){__p&&__p();var d=window.getComputedStyle(a);if(!d||d.display=="none")return undefined;d=b("getElementRect")(a);d=d;a=a.parentElement;var e=!1;while(!e){var f=null;a==this.root||a&&a.nodeType!=1?(e=!0,f=c):a&&window.getComputedStyle(a).overflow!="visible"&&(f=b("getElementRect")(a));if(f){d=i(f,d);if(!d)break}a=a&&a.parentElement}return d};a.prototype.$15=function(){var a;if(this.root)a=b("getElementRect")(this.root);else{var c=document.documentElement,d=document.body,e=c&&c.clientWidth||d&&d.clientWidth;c=c&&c.clientHeight||d&&d.clientHeight;a={top:0,left:0,right:e,width:e,bottom:c,height:c}}return this.$19(a)};a.prototype.$19=function(a){var b=this.$8.map(function(b,c){return b.unit=="px"?b.value:b.value*(c%2?a.width:a.height)/100});b={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3],width:0,height:0};b.width=b.right-b.left;b.height=b.bottom-b.top;return b};a.prototype.$18=function(a,b){__p&&__p();a=a&&a.isIntersecting?a.intersectionRatio||0:-1;b=b.isIntersecting?b.intersectionRatio||0:-1;if(a===b)return!1;for(var c=0;c<this.thresholds.length;c++){var d=this.thresholds[c];if(d==a||d==b||d<a!==d<b)return!0}return!1};a.prototype.$14=function(){return!this.root||b("containsNode")(g,this.root)};a.prototype.$16=function(a){var c=this.root||g;return b("containsNode")(c,a)};a.prototype.$20=function(){h.indexOf(this)<0&&h.push(this)};a.prototype.$21=function(){var a=h.indexOf(this);a!=-1&&h.splice(a,1)};a.prototype.observe=function(a){__p&&__p();if(!a){b("FBLogger")("io").warn("IntersectionObserverFallback target does not exist");return}if(this.$6.some(function(b){return b.element==a}))return;this.$20();this.$6.push({element:a,entry:null});this.$11();this.$12()};a.prototype.unobserve=function(a){this.$6=this.$6.filter(function(b){return b.element!=a}),this.$6.length||(this.$13(),this.$21())};a.prototype.disconnect=function(){this.$6=[],this.$13(),this.$21()};a.prototype.takeRecords=function(){var a=this.$7.slice();this.$7=[];return a};e.exports=a}),null);
__d("IntersectionObserver",["IntersectionObserverFallback"],(function(a,b,c,d,e,f){"use strict";a="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;e.exports=a?window.IntersectionObserver:b("IntersectionObserverFallback")}),null);
__d("MessengerDiscoveryPluginName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHECKBOX_PLUGIN:"checkbox_plugin",SEND_TO_MESSENGER_PLUGIN:"send_to_messenger_plugin"})}),null);
__d("MessengerPrecheckedPluginCheckboxState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHECKED:"checked",UNCHECKED:"unchecked"})}),null);
__d("intersectionObserverEntryIsIntersecting",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.isIntersecting!=null?a.isIntersecting:a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0)}e.exports=a}),null);
__d("PluginMessengerPrechecked",["DOMEventListener","FormSubmit","IntersectionObserver","MessengerDiscoveryPluginName","MessengerDiscoveryPluginTypedLogger","MessengerPrecheckedPluginCheckboxState","MNCommerceLogger","MNCommerceLoggerEvents","PluginMessage","PluginOptin","UnverifiedXD","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();n=function(a,c){return b("DOMEventListener").add(a,"click",c)};var o=function(a,c){return b("DOMEventListener").add(a,"change",c)},p=function(a){new(b("PluginOptin"))("messenger_checkbox").addLoginParams({logged_in:!1,switch_user:!0,page_id:d,app_id:e,connected:!1,is_inapp_browser:c,show_subtitle:!1}).addReturnParams({source:"messenger_checkbox"}).start(),b("PluginMessage").listen()},q=function(a){return b("UnverifiedXD").send({type:"sdk_event",event:"messenger_checkbox",data:JSON.stringify(a)})},r=function(event){b("MNCommerceLogger").logAuthEvent(e,d,f,event)},s=function(event){new(b("MessengerDiscoveryPluginTypedLogger"))().setAppID(e).setPageID(d).setUserFbid(f).setEvent(event).setName(b("MessengerDiscoveryPluginName").CHECKBOX_PLUGIN).logImmediately()},t=function(a){a.target.checked=!1,r(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_LOGIN),q({event:"login",user_ref:g,ref:h}),p(a)},u=function(a){r(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_NOTYOU),q({event:"not_you",user_ref:g,ref:h}),p(a)};a!==null&&n(a,u);var v=null;n=new(b("IntersectionObserver"))(function(a,c){a.forEach(function(a){var c=b("intersectionObserverEntryIsIntersecting")(a);c&&a.intersectionRatio===1?v=!0:!c&&a.intersectionRatio===0&&(v===null&&m&&(r(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_RENDERED_OUT_OF_VIEW),s(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_RENDERED_OUT_OF_VIEW)),v=!1)})},{threshold:[0,1]});n.observe(k);a=function(a){a.target.checked?(j.value=b("MessengerPrecheckedPluginCheckboxState").CHECKED,r(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED),s(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED),v||(r(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED_OUT_OF_VIEW),s(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED_OUT_OF_VIEW))):(j.value=b("MessengerPrecheckedPluginCheckboxState").UNCHECKED,r(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_UNCHECKED),s(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_UNCHECKED)),b("FormSubmit").send(k),q({event:"checkbox",user_ref:g,ref:h,state:j.value})};!l?o(i,t):o(i,a)}e.exports=a}),null);